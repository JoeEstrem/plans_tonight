<body>
  <div class="grid-container">

    <div class="grid-6">
      <h1>MAKE YOUR PLANS TONIGHT!</h1>
    </div>

    <!-- SELECT DATE & TIME -->
    <!-- SELECT DATE & TIME END -->
    <%= form_with model: @plan, local: true do |form| %>
      <div class="form-group">
        <%= form.label :deadline, "Select Deadline", class: "form-label" %>
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text">
              <i class="fa fa-calendar"></i>
            </span>
          </div>
          <%= form.text_field :deadline, class: "form-control datetime-picker", placeholder: "Select Date & Time", "data-controller": "date-picker" %>
        </div>
      </div>
    <% end %>


  <div class="grid-6" style="margin-top: 24px;">
    <%= simple_form_for @plan do |f| %>
      <%= f.simple_fields_for :polls do |poll_form| %>
        <%= poll_form.input :mood,
            as: :radio_buttons,
            collection_wrapper_tag: 'div',
            collection_wrapper_class: 'grid-6',
            item_wrapper_tag: 'div',
            item_wrapper_class: 'grid-2 icon-card',
            collection: Plan::MOODS %>
      <% end %>
      <div class="form-group">
        <%= f.button :submit, 'Create Plans', class: 'button-standard' %>
      </div>
    <% end %>
  </div>


    <%# <%= f.input :mood,
      as: :radio_buttons,
      collection_wrapper_tag: 'div',
      collection_wrapper_class: 'grid-2 icon-card',
      item_wrapper_class: {class: 'icon'},
      collection: Plan::MOODS %>




    <!-- QUESTION 1 -->
    <div class="grid-6" style="margin-top: 24px;">
      <h2>WHAT'S YOUR VIBE TONIGHT?</h2>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸ˜Š</p>
      <p>CASUAL</p>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">âœ¨</p>
      <p>CLASSY</p>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸª©</p>
      <p>DANCING</p>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸ¶</p>
      <p>MUSIC</p>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸ­</p>
      <p>UNIQUE</p>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸ™Œ</p>
      <p>ANYTHING</p>
    </div>
    <!-- Q1 END -->

    <!-- QUESTION 2 -->
    <div class="grid-6" style="margin-top: 24px;">
      <h2>WHAT DO YOU WANT TO DRINK TONIGHT?</h2>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸº</p>
      <p>CRAFT BEER</p>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸ‹</p>
      <p>LEMON SOUR</p>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸ¥ƒ</p>
      <p>WHISKEY</p>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸ¹</p>
      <p>COCKTAIL</p>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸ·</p>
      <p>WINE</p>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸ¥‚</p>
      <p>ANYTHING</p>
    </div>
    <!-- Q2 END -->

    <!-- QUESTION 3 -->
    <div class="grid-6" style="margin-top: 24px;">
      <h2>WILL YOU SMOKE TONIGHT?</h2>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸ‘</p>
      <p>YEAH</p>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸ‘</p>
      <p>NAH</p>
    </div>
    <!-- Q3 END -->

    <!-- QUESTION 4 -->
    <div class="grid-6" style="margin-top: 24px;">
      <h2>DO YOU WANT TO EAT THERE?</h2>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸ™‹â€â™‚ï¸</p>
      <p>YES PLEASE</p>
    </div>
    <div class="grid-2 icon-card">
      <p class="icon">ğŸ™…â€â™‚ï¸</p>
      <p>NO THANKS</p>
    </div>
    <!-- Q4 END -->

    <!-- SELECT FRIENDS -->
    <!-- SELECT FRIENDS END -->

    <!-- SUBMIT -->
    <%# <%= link_to, "MAKE PLANS", plan_path(@plan), class: "button"%>
    <!-- SUBMIT END -->

  </div>
</body>
<%# <script>
function getJapanTime() {
  const now = new Date();
  const utcOffset = now.getTimezoneOffset() * 60000; // Offset in milliseconds
  const japanOffset = 9 * 60 * 60000; // Japan offset in milliseconds
  return new Date(now.getTime() + utcOffset + japanOffset);
}

document.addEventListener("DOMContentLoaded", () => {
  const japanTime = getJapanTime();

  flatpickr(".datetime-picker", {
    enableTime: true,
    dateFormat: "Y-m-d H:i",
    altInput: true,
    altFormat: "F j, Y - H:i",
    time_24hr: true,
    minDate: japanTime,
    defaultDate: japanTime,
  });
});
</script> %>
